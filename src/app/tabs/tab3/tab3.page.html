<app-header></app-header>

<ion-content>
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-buttons collapse="true" slot="end">
        <ion-button class="badge-button" fill="clear" (click)="openCartModal()">
          <ion-icon size="large" name="cart"></ion-icon>
          <ion-badge class="badge-single-digits" color="danger"
            >{{ calculateCartQuantity() }}</ion-badge
          >
        </ion-button>
      </ion-buttons>
      <ion-title size="large">Company Store</ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- Display Bestsellers using slides on mobile and a static grid on desktop -->
  <h4 class="category-header">Bestsellers and more</h4>

  <ion-slides
    id="slider"
    [options]="slideOptions"
    class="category-slider"
    *ngIf="!isDesktop"
  >
    <ion-slide
      class="item-detail"
      *ngFor="let product of products"
      (click)="addToCart(product)"
    >
      <img src="{{ product.image }}" />
      <div style="float: left">
        <p class="detail-name">{{ product.name }}</p>
        <!-- A little bit of fun -->
        <p class="detail-price" *ngIf="product.name !== 'Ionic Headband'">
          {{product.price | currency: 'EUR'}}
        </p>
        <p class="detail-price" *ngIf="product.name === 'Ionic Headband'">
          <span class="headband">$999</span>
          <span class="sold"> SOLD OUT</span>
        </p>
      </div>
    </ion-slide>
  </ion-slides>

  <ion-grid class="grid" *ngIf="isDesktop">
    <ion-row>
      <ion-col
        size="12"
        size-xs="6"
        size-lg="3"
        size-xl="3"
        *ngFor="let product of products"
      >
        <img
          src="{{ product.image }}"
          class="grid-img"
          (click)="addToCart(product)"
        />
        <p class="detail-name">{{ product.name }}</p>
        <!-- A little bit of fun -->
        <p class="detail-price" *ngIf="product.name !== 'Ionic Headband'">
          {{product.price | currency:'EUR'}}
        </p>
        <p class="detail-price" *ngIf="product.name === 'Ionic Headband'">
          <span class="headband">$999</span>
          <span class="sold"> SOLD OUT</span>
        </p>
      </ion-col>
    </ion-row>
  </ion-grid>

  <h4 class="category-header">New & Featured</h4>

  <ion-grid class="grid">
    <ion-row>
      <ion-col
        class="col-adjust"
        size="12"
        size-xs="6"
        size-lg="3"
        size-xl="3"
        *ngFor="let product of products"
      >
        <img
          src="{{ product.image }}"
          class="grid-img"
          (click)="addToCart(product)"
        />
        <p class="detail-name">{{ product.name }}</p>
        <p class="detail-price">${{ product.price }}</p>
      </ion-col>
    </ion-row>
  </ion-grid>

  <h4 class="category-header">Sale - Up to 50% Off</h4>

  <ion-grid class="grid">
    <ion-row>
      <ion-col
        class="col-adjust"
        size="12"
        size-xs="6"
        size-lg="3"
        size-xl="3"
        *ngFor="let product of products"
      >
        <img
          src="{{ product.image }}"
          class="grid-img"
          (click)="addToCart(product)"
        />
        <p class="detail-name">{{ product.name }}</p>
        <p class="detail-price">${{ product.price }}</p>
      </ion-col>
    </ion-row>
  </ion-grid>

  <h4 class="category-header">Recommended for you</h4>

  <ion-grid class="grid">
    <ion-row>
      <ion-col
        class="col-adjust"
        size="12"
        size-xs="6"
        size-lg="3"
        size-xl="3"
        *ngFor="let product of products"
      >
        <img
          src="{{ product.image }}"
          class="grid-img"
          (click)="addToCart(product)"
        />
        <p class="detail-name">{{ product.name }}</p>
        <p class="detail-price">${{ product.price }}</p>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
